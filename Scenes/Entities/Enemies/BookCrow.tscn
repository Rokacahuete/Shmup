[gd_scene load_steps=9 format=3 uid="uid://b3wqh2v6tpeya"]

[ext_resource type="Script" uid="uid://c04nhddjhyvx5" path="res://Scripts/Entities/Enemies/Book.cs" id="1_640ay"]
[ext_resource type="PackedScene" uid="uid://045m4xfrgdpd" path="res://Scenes/Modules/Shooter.tscn" id="2_hsh41"]
[ext_resource type="PackedScene" uid="uid://dw67n4kaxxnbk" path="res://Scenes/Entities/Enemies/Crow.tscn" id="2_xxqtk"]
[ext_resource type="Texture2D" uid="uid://blhrs0mf51hkc" path="res://Assets/Textures/Enemies/Book.png" id="3_uvg3u"]
[ext_resource type="PackedScene" uid="uid://cvuoxauwej8pw" path="res://Scenes/Modules/Damageable.tscn" id="4_iue3s"]
[ext_resource type="PackedScene" uid="uid://dttjrhlqit1y1" path="res://Scenes/Entities/Shots/PlayerShot.tscn" id="5_2uasq"]
[ext_resource type="PackedScene" uid="uid://crdu287mkpj6v" path="res://Scenes/Modules/Damager.tscn" id="6_0fsev"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xxqtk"]
size = Vector2(126, 76)

[node name="BookCrow" type="Node2D"]
script = ExtResource("1_640ay")
_maxHealth = 300

[node name="Modules" type="Node" parent="."]

[node name="Shooter" parent="Modules" node_paths=PackedStringArray("nodeToAffect") instance=ExtResource("2_hsh41")]
shotScene = ExtResource("2_xxqtk")
timeBetweenShots = 3.0
timer = 2.0
nodeToAffect = NodePath("../../Canon")

[node name="Damageable" parent="Modules" node_paths=PackedStringArray("nodeToAffect") instance=ExtResource("4_iue3s")]
_ADamageables = [ExtResource("5_2uasq")]
nodeToAffect = NodePath("../..")

[node name="Damager" parent="Modules" node_paths=PackedStringArray("nodeToAffect") instance=ExtResource("6_0fsev")]
damage = 20
nodeToAffect = NodePath("../..")

[node name="renderer" type="Sprite2D" parent="."]
scale = Vector2(0.4, 0.4)
texture = ExtResource("3_uvg3u")

[node name="Canon" type="Node2D" parent="."]
position = Vector2(30, 1)
rotation = 1.5707964

[node name="collider" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="collider"]
shape = SubResource("RectangleShape2D_xxqtk")

[connection signal="area_entered" from="collider" to="Modules/Damageable" method="_OnAreaEntered"]
